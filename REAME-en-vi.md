# @dqcai/logger

🚀 **Universal Logging Library for JavaScript & TypeScript**
🚀 **Thư viện ghi log đa nền tảng cho JavaScript & TypeScript**

Cross-platform logging for **Node.js, Web, and React Native**.
Hỗ trợ ghi log trên **Node.js, Web, và React Native**.

The most **flexible, modern, and developer-friendly logger** for real-world projects.
Logger **linh hoạt, hiện đại, thân thiện với lập trình viên** cho các dự án thực tế.

💡 **This library is fully generated by AI — the author only provided the idea and executed it.**
💡 **Thư viện này hoàn toàn do AI tạo ra — tác giả chỉ là người đưa ý tưởng và thực thi nó.**


[![NPM Version](https://img.shields.io/npm/v/@dqcai/logger.svg)](https://www.npmjs.com/package/@dqcai/logger)
[![License](https://img.shields.io/npm/l/@dqcai/logger.svg)](LICENSE)
[![Downloads](https://img.shields.io/npm/dm/@dqcai/logger.svg)](https://www.npmjs.com/package/@dqcai/logger)

---

## ✨ Why @dqcai/logger?

## ✨ Tại sao chọn @dqcai/logger?

When building apps across **multiple environments** (Web, Node.js, React Native), logging is often fragmented.
Khi xây dựng ứng dụng trên **nhiều môi trường** (Web, Node.js, React Native), việc ghi log thường bị rời rạc.

`@dqcai/logger` solves this with a **single, unified API** and **pluggable transports** that work everywhere:
`@dqcai/logger` giải quyết vấn đề này với **API thống nhất** và **các transport có thể cắm thêm** hoạt động ở mọi nơi:

* 🌍 **Cross-platform** → One library for Web, Node.js, React Native.

* 🌍 **Đa nền tảng** → Một thư viện duy nhất cho Web, Node.js, React Native.

* 🛠 **Flexible configuration** → Control logs by **module, log level, transport**.

* 🛠 **Cấu hình linh hoạt** → Kiểm soát log theo **module, cấp độ log, transport**.

* 📂 **Multiple transports** → Console, File, API, or custom transport.

* 📂 **Hỗ trợ nhiều transport** → Console, File, API, hoặc tùy chỉnh.

* 🔧 **Runtime control** → Enable/disable logs dynamically.

* 🔧 **Điều khiển runtime** → Bật/tắt log động khi đang chạy.

* 🎯 **Module-based logging** → Organize logs per feature/service.

* 🎯 **Ghi log theo module** → Tổ chức log theo từng chức năng/dịch vụ.

* 💡 **TypeScript-first** → Strongly typed, tree-shakable, ESM & CJS ready.

* 💡 **Ưu tiên TypeScript** → Kiểu mạnh, tree-shakable, hỗ trợ cả ESM & CJS.

* ⚡ **Zero dependencies** → Lightweight, only optional peer deps.

* ⚡ **Không phụ thuộc** → Gọn nhẹ, chỉ có peer deps tùy chọn.

> 🏆 Instead of juggling `winston`, `pino`, and `react-native-logs`,
> use **one consistent solution** across all platforms.
> 🏆 Thay vì phải dùng `winston`, `pino`, `react-native-logs`,
> hãy chọn **một giải pháp nhất quán duy nhất** trên tất cả nền tảng.

---

## 📦 Installation

## 📦 Cài đặt

```bash
npm install @dqcai/logger
# or / hoặc
yarn add @dqcai/logger
# or / hoặc
pnpm add @dqcai/logger
```

**Optional transports**
**Các transport tùy chọn**

```bash
# React Native file logging / Ghi file trong React Native
npm install react-native-fs

# API transport / Transport API
npm install axios
```

---

## 🚀 Quick Start

## 🚀 Bắt đầu nhanh

### Basic Example

### Ví dụ cơ bản

```ts
import { createLogger } from '@dqcai/logger';

const logger = createLogger();

logger.info('App', '🚀 Application started');
logger.error('App', 'Something went wrong', { error: 'details' });
logger.debug('App', 'Debugging info', { userId: 123 });
```

### Using `BaseModule`

### Sử dụng `BaseModule`

```ts
import { BaseModule, createLogger } from '@dqcai/logger';

const logger = createLogger();

class DatabaseManager extends BaseModule {
  constructor() {
    super('DatabaseManager', logger);
  }

  async connect() {
    this.logInfo('Connecting to database...');
    try {
      this.logDebug('Connected successfully');
    } catch (error) {
      this.logError('Connection failed', { error });
    }
  }
}
```

---

## ⚙️ Advanced Configuration

## ⚙️ Cấu hình nâng cao

```ts
import { LoggerConfigBuilder, createLogger } from '@dqcai/logger';

const config = new LoggerConfigBuilder()
  .setEnabled(true)
  .setDefaultLevel('info')
  .addModule('App', true, ['info','warn','error'], ['console'])
  .addModule('DatabaseManager', true, ['debug','info'], ['console','file'])
  .addModule('AuthService', true, ['error'], ['console','api'])
  .build();

const logger = createLogger(config);
```

Runtime update:

```ts
logger.setModuleConfig('DatabaseManager', {
  enabled: false,
  levels: [],
  transports: []
});
```

---

## 🌍 Platform Examples

### React Native

```ts

import RNFS from 'react-native-fs';
import { createLogger, ConsoleTransport } from '@dqcai/logger';
import type { ILogTransport, LogEntry } from '@dqcai/logger';

export default class RNFileTransport implements ILogTransport {
  readonly name = 'file';
  constructor(private fileName: string = 'app.log') {}
  async log(entry: LogEntry) {
    const line = JSON.stringify(entry) + '\n';
    const path = `${RNFS.DocumentDirectoryPath}/${this.fileName}`;
    await RNFS.appendFile(path, line, 'utf8').catch(err =>
      console.error('[RNFileTransport] write error', err)
    );
  }
}

const logger = createLogger();
logger.addTransport(new ConsoleTransport());
logger.addTransport(new RNFileTransport('app.log'));

logger.info('App', 'React Native app started');
```

### Web Browser

```ts
import { createLogger, ConsoleTransport } from '@dqcai/logger';
import type { ILogTransport, LogEntry } from '@dqcai/logger';
const KEY = 'unilog';

export default class WebFileTransport implements ILogTransport {
  readonly name = 'file';
  async log(entry: LogEntry) {
    try {
      const arr = JSON.parse(localStorage.getItem(KEY) || '[]');
      arr.push(entry);
      localStorage.setItem(KEY, JSON.stringify(arr));
    } catch (e) {
      // fallback console
      console.error('[WebFileTransport] persist error', e);
    }
  }
}

const logger = createLogger();
logger.addTransport(new ConsoleTransport());
logger.addTransport(new WebFileTransport()); // uses localStorage
```

### Node.js

```ts
import fs from 'fs/promises';
import { createLogger, ConsoleTransport } from '@dqcai/logger';
import type { ILogTransport, LogEntry } from '@dqcai/logger';

export default class NodeFileTransport implements ILogTransport {
  readonly name = 'file';
  constructor(private filePath: string = './app.log') {}
  async log(entry: LogEntry) {
    try {
      await fs.appendFile(this.filePath, JSON.stringify(entry) + '\n');
    } catch (e) {
      console.error('[NodeFileTransport] write error', e);
    }
  }
}

const logger = createLogger();
logger.addTransport(new ConsoleTransport());
logger.addTransport(new NodeFileTransport('./server.log'));

logger.info('Server', 'Listening on port 3000');
```

---

## 🚛 Built-in Transports

* ✅ **Console** (default)
* ✅ **Custom** (implement your own `ILogTransport`)

```ts
import type { ILogTransport, LogEntry } from '@dqcai/logger';

class CustomTransport implements ILogTransport {
  readonly name = 'custom';
  log(entry: LogEntry) {
    console.log('Custom transport:', entry);
  }
}
logger.addTransport(new CustomTransport());
```

### API Transport (send logs to server)

```ts
import axios, { AxiosInstance } from 'axios';
import { ILogTransport, LogEntry } from '@dqcai/logger';

export class ApiTransport implements ILogTransport {
  readonly name = 'api';
  private client: AxiosInstance;
  private endpoint: string;

  constructor(baseURL: string, endpoint: string = '/logs') {
    this.client = axios.create({ baseURL });
    this.endpoint = endpoint;
  }

  async log(entry: LogEntry): Promise<void> {
    try {
      await this.client.post(this.endpoint, entry);
    } catch (err) {
      console.error('[ApiTransport] Failed to send log:', err);
    }
  }
}

logger.addTransport(new ApiTransport('https://api.example.com'));
```

## 📊 Best Practices

### 1. Environment-based Configuration

```typescript
const getLoggerConfig = () => {
  const env = process.env.NODE_ENV || 'development';
  
  switch (env) {
    case 'development':
      return new LoggerConfigBuilder()
        .setEnabled(true)
        .setDefaultLevel('debug')
        .build();
    
    case 'production':
      return new LoggerConfigBuilder()
        .setEnabled(true)
        .setDefaultLevel('warn')
        .addModule('critical', true, ['error'], ['console','api'])
        .build();
    
    case 'test':
      return new LoggerConfigBuilder()
        .setEnabled(false)
        .build();
    
    default:
      return LoggerUtils.createDevelopmentConfig();
  }
};
```

### 2. Structured Logging

```typescript
// Good: Structured data
logger.info('UserService', 'User login', {
  userId: user.id,
  email: user.email,
  timestamp: new Date().toISOString(),
  userAgent: req.headers['user-agent'],
  ip: req.ip
});

// Avoid: String concatenation
logger.info('UserService', `User ${user.email} logged in at ${new Date()}`);
```

### 3. Error Handling

```typescript
class ServiceBase extends BaseModule {
  protected async safeExecute<T>(
    operation: string, 
    fn: () => Promise<T>
  ): Promise<T | null> {
    try {
      await this.logDebug(`Starting ${operation}`);
      const result = await fn();
      await this.logDebug(`Completed ${operation}`, { success: true });
      return result;
    } catch (error) {
      await this.logError(`Failed ${operation}`, {
        error: error.message,
        stack: error.stack,
        operation
      });
      return null;
    }
  }
}
```

### 4. Performance Monitoring

```typescript
class PerformanceLogger extends BaseModule {
  async measureTime<T>(operation: string, fn: () => Promise<T>): Promise<T> {
    const start = Date.now();
    await this.logDebug(`Starting ${operation}`);
    
    try {
      const result = await fn();
      const duration = Date.now() - start;
      
      await this.logInfo(`Completed ${operation}`, {
        duration: `${duration}ms`,
        success: true
      });
      
      return result;
    } catch (error) {
      const duration = Date.now() - start;
      
      await this.logError(`Failed ${operation}`, {
        duration: `${duration}ms`,
        error: error.message
      });
      
      throw error;
    }
  }
}
```

## 📋 Migration Guide

### From console.log

```typescript
// Before
console.log('User logged in:', user);
console.error('API Error:', error);

// After
logger.info('AuthService', 'User logged in', { user });
logger.error('ApiService', 'API request failed', { error });
```

### From other logging libraries

```typescript
// From winston
// winston.info('message', { meta });

// To @dqcai/logger
logger.info('ModuleName', 'message', { meta });

// From react-native-logs
// const log = logger.createLogger();
// log.debug('message');

// To @dqcai/logger
const logger = createLogger();
logger.debug('ModuleName', 'message');
```

> 💡 You can also design your own `YourTransport` for multiple purposes with the help of AI tools (Claude, ChatGPT, Grok, Gemini…) — just describe your needs and adapt from the provided samples.

---

## 📈 Comparison vs Other Loggers

## 📈 So sánh với các logger khác

| Library / Thư viện | Node.js | Web | React Native |      Transports / Transport hỗ trợ     |     TypeScript     | Notes / Ghi chú                        |
| ------------------ | :-----: | :-: | :----------: | :------------------------------------: | :----------------: | -------------------------------------- |
| winston / pino     |    ✅    |  ⚠️ |       ❌      |            Strong / Mạnh mẽ            | Partial / Một phần | Node-first / Ưu tiên Node.js           |
| react-native-logs  |    ❌    |  ✅  |       ✅      |             Basic / Cơ bản             |          ❌         | RN-only / Chỉ cho RN                   |
| tslog              |    ✅    |  ✅  |       ❌      |           Limited / Giới hạn           |          ✅         | No RN / Không hỗ trợ RN                |
| Adze               |    ✅    |  ✅  |       ✅      |     Format/Emoji / Định dạng/Emoji     |          ✅         | Limited transports / Transport hạn chế |
| **@dqcai/logger**  |    ✅    |  ✅  |       ✅      | Console, File, API, Custom / Tùy chỉnh |          ✅         | **All-in-one**                         |

---


## 🤖 AI-Powered Development

## 🤖 Phát triển bởi AI

This project was **built in just 5 minutes with the help of AI tools**: Claude, Grok, ChatGPT, and Gemini.
Dự án này được **hoàn thiện chỉ trong 5 phút nhờ sự hỗ trợ của các công cụ AI**: Claude, Grok, ChatGPT và Gemini.

Thanks to AI, developers can now focus on **ideas and execution**, while AI helps generate **production-ready code, documentation, and examples**.
Nhờ AI, lập trình viên giờ đây chỉ cần tập trung vào **ý tưởng và thực thi**, còn AI sẽ hỗ trợ sinh ra **code sẵn sàng cho sản xuất, tài liệu và ví dụ minh họa**.

---

## 🌐 Community & Learning AI

## 🌐 Cộng đồng & Học AI

Join our **AI developer community** on Facebook to:

* 📘 Learn advanced usage of `@dqcai/logger`.
* 🔧 Get sample **system prompts** for refactoring code.
* 🛠 Share and discover **CustomTransport** implementations.
* 💬 Discuss best practices directly with other developers.
* 🚀 Start your AI journey from **zero to advanced** with guided lessons.

👉 [Facebook Fan Page: Doan Cuong AI](https://www.facebook.com/DoanCuongAI)

---

Tham gia **cộng đồng AI dành cho lập trình viên** trên Facebook để:

* 📘 Học cách sử dụng nâng cao thư viện `@dqcai/logger`.
* 🔧 Lấy các **system prompt mẫu** để refactor lại code.
* 🛠 Tạo và chia sẻ **CustomTransport** theo nhu cầu riêng.
* 💬 Thảo luận trực tiếp, dễ dàng hơn so với các kênh khác.
* 🚀 Bắt đầu học AI từ **con số 0 đến nâng cao** với các bài học hướng dẫn.

👉 [Fan Page Facebook: Doan Cuong AI](https://www.facebook.com/DoanCuongAI)

---

## 🤝 Contributing

## 🤝 Đóng góp

Contributions, issues, and feature requests are welcome!
Mọi đóng góp, báo lỗi, và yêu cầu tính năng đều được hoan nghênh!

👉 [Facebook Issues](https://www.facebook.com/share/p/19esHGbaGj/)
👉 [GitHub Issues](https://github.com/cuongdqpayment/dqcai-logger/issues)

---

## 📄 License

## 📄 Giấy phép

MIT © [Cuong Doan](https://github.com/cuongdqpayment)

---

🔥 **@dqcai/logger** — The only logger you need for **React Native, Web, and Node.js**.
🔥 **@dqcai/logger** — Logger duy nhất bạn cần cho **React Native, Web, và Node.js**.

Stop switching between libraries. Start logging smarter today.
Dừng việc phải đổi qua lại nhiều thư viện. Bắt đầu ghi log thông minh ngay hôm nay.