# DQCAI LOGGER - PROJECT COMMANDS REFERENCE

## ðŸ—ï¸ BUILD & DEVELOPMENT COMMANDS

### Clean & Build
npm run clean                    # XÃ³a thÆ° má»¥c dist
npm run build                    # Build thÆ° viá»‡n (táº¡o cáº£ CommonJS vÃ  ESM)
npm run clean && npm run build   # Clean build hoÃ n toÃ n

### Obfuscation (Báº£o máº­t code)
npm run obfuscate               # Obfuscate code Ä‘Ã£ build

### Type Checking
npm run typecheck               # Kiá»ƒm tra TypeScript types mÃ  khÃ´ng build

## ðŸ§ª TESTING COMMANDS

### Basic Testing
npm run test                    # Cháº¡y táº¥t cáº£ tests má»™t láº§n
npm test                        # Alias cho npm run test

### Watch Mode Testing
npm run test:watch              # Cháº¡y tests á»Ÿ cháº¿ Ä‘á»™ watch (tá»± Ä‘á»™ng cháº¡y láº¡i khi cÃ³ thay Ä‘á»•i)

### Testing UI
npm run test:ui                 # Má»Ÿ Vitest UI Ä‘á»ƒ xem káº¿t quáº£ test trong browser

### Specific Test Files
npx vitest run src/logger.test.ts        # Cháº¡y má»™t file test cá»¥ thá»ƒ
npx vitest run --reporter=verbose        # Cháº¡y test vá»›i output chi tiáº¿t
npx vitest run --coverage               # Cháº¡y test vá»›i coverage report

## ðŸ“¦ PUBLISHING COMMANDS

### Automatic Publishing (Recommended)
npm run release:patch           # TÄƒng patch version (1.0.3 -> 1.0.4) vÃ  publish
npm run release:minor           # TÄƒng minor version (1.0.3 -> 1.1.0) vÃ  publish  
npm run release:major           # TÄƒng major version (1.0.3 -> 2.0.0) vÃ  publish

### Manual Publishing Steps
npm run preversion              # Cháº¡y tests trÆ°á»›c khi version
npm version patch               # TÄƒng patch version vÃ  commit
npm version minor               # TÄƒng minor version vÃ  commit
npm version major               # TÄƒng major version vÃ  commit
npm run prepublishOnly          # Build vÃ  obfuscate trÆ°á»›c khi publish
npm run release                 # Publish lÃªn NPM registry

### Git Operations (Automatic vá»›i version commands)
npm run version                 # Build, obfuscate vÃ  add files to git
npm run postversion            # Push tags lÃªn Git sau khi version

## ðŸ” DEBUGGING & DEVELOPMENT

### Development Watch
npx tsup --watch                # Watch mode cho build
npx vitest --reporter=verbose   # Test vá»›i output chi tiáº¿t

### Check Build Output
ls -la dist/                    # Xem cÃ¡c file Ä‘Ã£ build
ls -la dist/react-native/       # Xem React Native build
cat dist/index.d.ts             # Xem TypeScript definitions

### Package Analysis
npm pack --dry-run              # Xem files sáº½ Ä‘Æ°á»£c publish mÃ  khÃ´ng thá»±c sá»± pack
npm pack                        # Táº¡o .tgz file Ä‘á»ƒ test local install
tar -tzf *.tgz                  # Xem ná»™i dung cá»§a package file

## ðŸƒâ€â™‚ï¸ QUICK WORKFLOWS

### Development Workflow
1. npm run clean
2. npm run build
3. npm run test
4. npm run typecheck

### Pre-commit Workflow  
npm run preversion              # NÃ y sáº½ cháº¡y test tá»± Ä‘á»™ng

### Release Workflow (Complete)
1. npm run test                 # Ensure tests pass
2. npm run typecheck            # Check types
3. npm run clean                # Clean old builds  
4. npm run build                # Fresh build
5. npm run release:patch        # Version + publish

### Local Testing Workflow
1. npm pack                     # Táº¡o package file
2. cd /path/to/test/project     # Chuyá»ƒn Ä‘áº¿n project test
3. npm install /path/to/your/dqcai-logger-1.0.3.tgz  # Install local package

### React Native Testing Workflow
1. npm run build
2. cd react-native-test-app
3. npm install file:../path/to/dqcai-logger
4. npx react-native start
5. npx react-native run-android  # hoáº·c run-ios

## ðŸ› ï¸ UTILITY COMMANDS

### Node Modules Management
npm ci                          # Clean install (production-like)
npm install                     # Install dependencies
npm audit                       # Check security vulnerabilities
npm audit fix                   # Auto-fix vulnerabilities

### Git Helpers
git tag                         # Xem táº¥t cáº£ tags
git push --tags                 # Push tags manually náº¿u cáº§n
git log --oneline -10           # Xem commit history

### Package Info
npm view @dqcai/logger          # Xem thÃ´ng tin package trÃªn NPM
npm view @dqcai/logger versions --json  # Xem táº¥t cáº£ versions Ä‘Ã£ publish

## ðŸš¨ TROUBLESHOOTING COMMANDS

### When Tests Fail
npm run clean                   # Clean first
rm -rf node_modules package-lock.json  # Nuclear option
npm install                     # Reinstall
npm run test                    # Try again

### When Build Fails
npm run clean
rm -rf dist
npm run typecheck              # Check for type errors first
npm run build

### When React Native White Screen
1. Check Metro bundler logs
2. npm run build                # Ensure fresh build
3. cd react-native-project && npx react-native start --reset-cache
4. Check import paths in your RN code

### Publishing Issues
npm whoami                      # Check if logged in
npm login                       # Login if needed
npm run clean && npm run build  # Fresh build
npm run release                 # Try publishing again

## ðŸ“‹ ENVIRONMENT CHECKS

### Prerequisites Check
node --version                  # Should be >= 18.17.0
npm --version                   # Should be >= 8.0.0
npx tsc --version              # Check TypeScript version

### Project Health Check
npm run typecheck              # TypeScript OK?
npm run test                   # Tests passing?
npm run build                  # Build successful?
ls -la dist/                   # Files generated?

---
ðŸ’¡ TIP: Always run tests before publishing!
ðŸ’¡ TIP: Use semantic versioning (patch/minor/major) appropriately
ðŸ’¡ TIP: Test your package locally before publishing with `npm pack`